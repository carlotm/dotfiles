- name: COPY PACMAN CONF
  become: yes
  ansible.builtin.copy:
    src: "templates/{{ host }}/etc/pacman.conf"
    dest: /etc/pacman.conf
    owner: root
    group: root
    mode: "0644"

- name: SYNC PACMAN
  become: yes
  pacman:
    update_cache: yes

- name: INSTALL COMMON PACKAGES
  become: yes
  pacman:
    name:
      - base
      - base-devel
      - git
      - vim
      - terminus-font
      - bash-completion
      - inotify-tools
      - libiconv
      - upower
      - ansible
      - alacritty
      - firefox
      - fontconfig
      - openssh
      - stow
    state: present

- name: INSTALL PACKAGES
  become: yes
  pacman:
    name: "{{ pkgs }}"
    state: present
