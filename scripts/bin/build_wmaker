#!/bin/bash

set -e

W=~/w
mkdir -p $W

# wmaker ###########################
WMAKER_DIR=${W}/wmaker-crm
if [ ! -d "$WMAKER_DIR" ]; then
	git clone git://repo.or.cz/wmaker-crm.git $WMAKER_DIR
else
	echo "wmaker repo ready."
fi

pushd $WMAKER_DIR
./autogen.sh
./configure --prefix=/usr/local
make
sudo make install
popd
# end wmaker #######################

# dockapps #########################
DOCKAPPS_DIR=${W}/dockapps
if [ ! -d "$DOCKAPPS_DIR" ]; then
	git clone https://repo.or.cz/dockapps.git $DOCKAPPS_DIR
else
	echo "dockapps repo ready."
fi

pushd $DOCKAPPS_DIR/wmbattery
./autogen
./configure --prefix=/usr/local
make
sudo make install
popd

pushd $DOCKAPPS_DIR/wmtime
make
sudo make install
popd
# end wmaker #######################

# paginator ########################
PAGINATOR_DIR=${W}/paginator
if [ ! -d "$PAGINATOR_DIR" ]; then
	git clone https://github.com/phillbush/paginator.git $PAGINATOR_DIR
else
	echo "paginator repo ready."
fi

pushd $PAGINATOR_DIR
make
sudo make install
popd
# end paginator ####################
